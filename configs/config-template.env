# ========================================
# Configuration Evolution API v2 - Template
# ========================================
# Copiez ce fichier vers .env et modifiez les valeurs selon vos besoins

# ========================================
# CONFIGURATION DE BASE
# ========================================
SERVER_URL=http://localhost:8080
SERVER_TYPE=http
SERVER_PORT=8080

# ========================================
# AUTHENTIFICATION & SÉCURITÉ
# ========================================
# OBLIGATOIRE: Changez cette clé API par une clé sécurisée
AUTHENTICATION_API_KEY=change-me-secure-key-here

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-here
AUTHENTICATION_JWT_EXPIRES_IN=0

# ========================================
# BASE DE DONNÉES POSTGRESQL
# ========================================
# Mot de passe PostgreSQL (changez-le!)
POSTGRES_PASSWORD=evolution_secure_password_2024

# Configuration de la base de données
DATABASE_ENABLED=true
CONFIG_SESSION_PHONE_VERSION=${CONFIG_SESSION_PHONE_VERSION:-2.3000.1023204200}
CONFIG_SESSION_PHONE_NAME=${CONFIG_SESSION_PHONE_NAME:-Chrome}
CONFIG_SESSION_PHONE_CLIENT=Wazzap AI
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_CLIENT_NAME=evolution_api
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true

# ========================================
# CACHE REDIS (Recommandé pour le scaling)
# ========================================
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://redis:6379/1
CACHE_REDIS_PREFIX_KEY=evolution_v2
CACHE_REDIS_SAVE_INSTANCES=true
CACHE_LOCAL_ENABLED=false

# ========================================
# WEBHOOKS - Configuration Globale
# ========================================
WEBHOOK_GLOBAL_URL=https://wazzap.ngrok.app/api/webhook/v2/messageHandlers
WEBHOOK_GLOBAL_ENABLED=true
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=true
WEBHOOK_GLOBAL_WEBHOOK_BASE64=true

# Événements webhook (nouvelles variables individuelles)
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=false
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=false
WEBHOOK_EVENTS_MESSAGES_DELETE=false
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_CONTACTS_SET=false
WEBHOOK_EVENTS_CONTACTS_UPSERT=false
WEBHOOK_EVENTS_CONTACTS_UPDATE=false
WEBHOOK_EVENTS_PRESENCE_UPDATE=false
WEBHOOK_EVENTS_CHATS_SET=false
WEBHOOK_EVENTS_CHATS_UPSERT=false
WEBHOOK_EVENTS_CHATS_UPDATE=false
WEBHOOK_EVENTS_CHATS_DELETE=false
WEBHOOK_EVENTS_GROUPS_UPSERT=false
WEBHOOK_EVENTS_GROUPS_UPDATE=false
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=false
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_LABELS_EDIT=false
WEBHOOK_EVENTS_LABELS_ASSOCIATION=false
WEBHOOK_EVENTS_CALL=false
WEBHOOK_EVENTS_NEW_JWT_TOKEN=false
WEBHOOK_EVENTS_TYPEBOT_START=true
WEBHOOK_EVENTS_TYPEBOT_CHANGE_STATUS=true
WEBHOOK_EVENTS_CHAMA_AI_ACTION=false
WEBHOOK_EVENTS_ERRORS=false
WEBHOOK_EVENTS_ERRORS_WEBHOOK=false

# ========================================
# LOGS
# ========================================
LOG_LEVEL=ERROR
LOG_COLOR=true
LOG_BAILEYS=error

# ========================================
# CORS
# ========================================
CORS_ORIGIN=*
CORS_METHODS=POST,GET,PUT,DELETE
CORS_CREDENTIALS=true

# ========================================
# GESTION DES INSTANCES
# ========================================
DEL_INSTANCE=false
CLEAN_STORE_CLEANING_INTERVAL=7200
CLEAN_STORE_MESSAGES=true
CLEAN_STORE_MESSAGE_UP_TO=false
CLEAN_STORE_CONTACTS=true
CLEAN_STORE_CHATS=true

# ========================================
# STOCKAGE S3 (Optionnel mais recommandé pour production)
# ========================================
S3_ENABLED=false
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_BUCKET=evolution
S3_PORT=443
S3_ENDPOINT=your-s3-endpoint.com
S3_USE_SSL=true

# ========================================
# RABBITMQ (Optionnel - pour les grandes installations)
# ========================================
RABBITMQ_ENABLED=false
RABBITMQ_URI=amqp://admin:admin@rabbitmq:5672/default

# ========================================
# CONFIGURATION AVANCÉE
# ========================================
# Performance et stockage
STORE_MESSAGES=true
STORE_MESSAGE_UP=false
STORE_CONTACTS=true
STORE_CHATS=true

# Configuration des connexions WhatsApp
QRCODE_COLOR=#010101FF



# Configuration des sessions
SESSION_SECRET=your-session-secret-here

# ========================================
# CONFIGURATION DOCKER SWARM (Si utilisé)
# ========================================
# Domaine principal pour Traefik
DOMAIN_NAME=your-domain.com

# Email pour Let's Encrypt
LETSENCRYPT_EMAIL=your@email.com

# Authentification pour le dashboard Traefik
# Générez avec: echo $(htpasswd -nb admin your-password) | sed -e s/\\$/\\$\\$/g
TRAEFIK_BASIC_AUTH=admin:$$2y$$10$$...

# ========================================
# VARIABLES POUR LE DÉVELOPPEMENT
# ========================================
# Environnement (development, production)
NODE_ENV=production

# Debug (true/false)
DEBUG=false

# ========================================
# CONFIGURATION DE MONITORING (Optionnel)
# ========================================
# Prometheus metrics
METRICS_ENABLED=false

# Health check endpoint
HEALTH_CHECK_ENABLED=true
